\doxysection{ingestor/fetcher.h File Reference}
\hypertarget{fetcher_8h}{}\label{fetcher_8h}\index{ingestor/fetcher.h@{ingestor/fetcher.h}}
{\ttfamily \#include $<$curl/curl.\+h$>$}\newline
{\ttfamily \#include $<$curl/easy.\+h$>$}\newline
{\ttfamily \#include $<$curl/multi.\+h$>$}\newline
{\ttfamily \#include $<$curl/system.\+h$>$}\newline
{\ttfamily \#include $<$math.\+h$>$}\newline
{\ttfamily \#include $<$stdbool.\+h$>$}\newline
{\ttfamily \#include $<$stddef.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$sys/stat.\+h$>$}\newline
{\ttfamily \#include $<$time.\+h$>$}\newline
{\ttfamily \#include $<$unistd.\+h$>$}\newline
{\ttfamily \#include "{}constants.\+h"{}}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{fetcher_8h_aef334801630cffa4f694259497e10bc3}{find\+\_\+latest\+\_\+run}} (struct tm \texorpdfstring{$\ast$}{*}out)
\item 
void \mbox{\hyperlink{fetcher_8h_a18aaef93079280c57cf858832184b302}{generate\+\_\+keys}} (const struct tm \texorpdfstring{$\ast$}{*}run, int offset\mbox{[}\mbox{\hyperlink{constants_8h_a7e72e0268904c2467ce256cc0f78925c}{NUM\+\_\+\+FILES}}\mbox{]}, char keys\mbox{[}\mbox{\hyperlink{constants_8h_a7e72e0268904c2467ce256cc0f78925c}{NUM\+\_\+\+FILES}}\mbox{]}\mbox{[}\mbox{\hyperlink{constants_8h_afcbf7727d6416354930cd43f1c1e480c}{MAX\+\_\+\+URL}}\mbox{]})
\item 
int \mbox{\hyperlink{fetcher_8h_a2b84ffc848eb76be4341aa18b699e059}{fetch\+\_\+current\+\_\+conditions}} (double lat, double lon, char \texorpdfstring{$\ast$}{*}out\+\_\+path, size\+\_\+t out\+\_\+path\+\_\+size)
\item 
int \mbox{\hyperlink{fetcher_8h_a97e9cf50b9689b134898578c3cffb406}{download\+\_\+parallel}} (const char keys\mbox{[}\mbox{\hyperlink{constants_8h_a7e72e0268904c2467ce256cc0f78925c}{NUM\+\_\+\+FILES}}\mbox{]}\mbox{[}\mbox{\hyperlink{constants_8h_afcbf7727d6416354930cd43f1c1e480c}{MAX\+\_\+\+URL}}\mbox{]})
\item 
void \mbox{\hyperlink{fetcher_8h_a54b4f6e42a7092e6568561f848b0d28c}{multi\+\_\+perform}} (CURLM \texorpdfstring{$\ast$}{*}multi)
\item 
int \mbox{\hyperlink{fetcher_8h_a7c77e2145eeb16934502df9b045a0e41}{check\+\_\+response}} (CURL \texorpdfstring{$\ast$}{*}handle, char outpath\mbox{[}\mbox{\hyperlink{constants_8h_afcbf7727d6416354930cd43f1c1e480c}{MAX\+\_\+\+URL}}\mbox{]}, FILE \texorpdfstring{$\ast$}{*}file)
\item 
const char \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{fetcher_8h_a4cac288e7acfe1728d2fcfeb4a16dbb6}{construct\+\_\+file\+\_\+name}} (const char \texorpdfstring{$\ast$}{*}key, char \mbox{\hyperlink{structurl}{url}}\mbox{[}\mbox{\hyperlink{constants_8h_afcbf7727d6416354930cd43f1c1e480c}{MAX\+\_\+\+URL}}\mbox{]}, char outpath\mbox{[}\mbox{\hyperlink{constants_8h_afcbf7727d6416354930cd43f1c1e480c}{MAX\+\_\+\+URL}}\mbox{]})
\item 
void \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{fetcher_8h_a18bb0829e0e1490bce60cd20fb77d87f}{check\+\_\+time}} (FILE \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}file, char outpath\mbox{[}\mbox{\hyperlink{constants_8h_afcbf7727d6416354930cd43f1c1e480c}{MAX\+\_\+\+URL}}\mbox{]})
\item 
bool \mbox{\hyperlink{fetcher_8h_a370c187a72a3eb6b1f72d772bd0de4a6}{run\+\_\+already\+\_\+downloaded}} (struct tm \texorpdfstring{$\ast$}{*}run\+\_\+tm)
\item 
void \mbox{\hyperlink{fetcher_8h_a2412f6b208a4be3383b4955699e31682}{set\+\_\+master}} ()
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
CURL \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{fetcher_8h_a2e0775733c760761edc48cc736ee03df}{master}}
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{fetcher_8h_a7c77e2145eeb16934502df9b045a0e41}\index{fetcher.h@{fetcher.h}!check\_response@{check\_response}}
\index{check\_response@{check\_response}!fetcher.h@{fetcher.h}}
\doxysubsubsection{\texorpdfstring{check\_response()}{check\_response()}}
{\footnotesize\ttfamily \label{fetcher_8h_a7c77e2145eeb16934502df9b045a0e41} 
int check\+\_\+response (\begin{DoxyParamCaption}\item[{CURL \texorpdfstring{$\ast$}{*}}]{handle}{, }\item[{char}]{outpath}{\mbox{[}\+MAX\+\_\+\+URL\mbox{]}, }\item[{FILE \texorpdfstring{$\ast$}{*}}]{file}{}\end{DoxyParamCaption})}

\Hypertarget{fetcher_8h_a18bb0829e0e1490bce60cd20fb77d87f}\index{fetcher.h@{fetcher.h}!check\_time@{check\_time}}
\index{check\_time@{check\_time}!fetcher.h@{fetcher.h}}
\doxysubsubsection{\texorpdfstring{check\_time()}{check\_time()}}
{\footnotesize\ttfamily \label{fetcher_8h_a18bb0829e0e1490bce60cd20fb77d87f} 
void \texorpdfstring{$\ast$}{*} check\+\_\+time (\begin{DoxyParamCaption}\item[{FILE \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}}]{file}{, }\item[{char}]{outpath}{\mbox{[}\+MAX\+\_\+\+URL\mbox{]}}\end{DoxyParamCaption})}

\Hypertarget{fetcher_8h_a4cac288e7acfe1728d2fcfeb4a16dbb6}\index{fetcher.h@{fetcher.h}!construct\_file\_name@{construct\_file\_name}}
\index{construct\_file\_name@{construct\_file\_name}!fetcher.h@{fetcher.h}}
\doxysubsubsection{\texorpdfstring{construct\_file\_name()}{construct\_file\_name()}}
{\footnotesize\ttfamily \label{fetcher_8h_a4cac288e7acfe1728d2fcfeb4a16dbb6} 
const char \texorpdfstring{$\ast$}{*} construct\+\_\+file\+\_\+name (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{key}{, }\item[{char}]{url}{\mbox{[}\+MAX\+\_\+\+URL\mbox{]}, }\item[{char}]{outpath}{\mbox{[}\+MAX\+\_\+\+URL\mbox{]}}\end{DoxyParamCaption})}

\Hypertarget{fetcher_8h_a97e9cf50b9689b134898578c3cffb406}\index{fetcher.h@{fetcher.h}!download\_parallel@{download\_parallel}}
\index{download\_parallel@{download\_parallel}!fetcher.h@{fetcher.h}}
\doxysubsubsection{\texorpdfstring{download\_parallel()}{download\_parallel()}}
{\footnotesize\ttfamily \label{fetcher_8h_a97e9cf50b9689b134898578c3cffb406} 
int download\+\_\+parallel (\begin{DoxyParamCaption}\item[{const char}]{keys}{\mbox{[}\+NUM\+\_\+\+FILES\mbox{]}\mbox{[}\+MAX\+\_\+\+URL\mbox{]}}\end{DoxyParamCaption})}

\Hypertarget{fetcher_8h_a2b84ffc848eb76be4341aa18b699e059}\index{fetcher.h@{fetcher.h}!fetch\_current\_conditions@{fetch\_current\_conditions}}
\index{fetch\_current\_conditions@{fetch\_current\_conditions}!fetcher.h@{fetcher.h}}
\doxysubsubsection{\texorpdfstring{fetch\_current\_conditions()}{fetch\_current\_conditions()}}
{\footnotesize\ttfamily \label{fetcher_8h_a2b84ffc848eb76be4341aa18b699e059} 
int fetch\+\_\+current\+\_\+conditions (\begin{DoxyParamCaption}\item[{double}]{lat}{, }\item[{double}]{lon}{, }\item[{char \texorpdfstring{$\ast$}{*}}]{out\+\_\+path}{, }\item[{size\+\_\+t}]{out\+\_\+path\+\_\+size}{}\end{DoxyParamCaption})}

\Hypertarget{fetcher_8h_aef334801630cffa4f694259497e10bc3}\index{fetcher.h@{fetcher.h}!find\_latest\_run@{find\_latest\_run}}
\index{find\_latest\_run@{find\_latest\_run}!fetcher.h@{fetcher.h}}
\doxysubsubsection{\texorpdfstring{find\_latest\_run()}{find\_latest\_run()}}
{\footnotesize\ttfamily \label{fetcher_8h_aef334801630cffa4f694259497e10bc3} 
int find\+\_\+latest\+\_\+run (\begin{DoxyParamCaption}\item[{struct tm \texorpdfstring{$\ast$}{*}}]{out}{}\end{DoxyParamCaption})}

\Hypertarget{fetcher_8h_a18aaef93079280c57cf858832184b302}\index{fetcher.h@{fetcher.h}!generate\_keys@{generate\_keys}}
\index{generate\_keys@{generate\_keys}!fetcher.h@{fetcher.h}}
\doxysubsubsection{\texorpdfstring{generate\_keys()}{generate\_keys()}}
{\footnotesize\ttfamily \label{fetcher_8h_a18aaef93079280c57cf858832184b302} 
void generate\+\_\+keys (\begin{DoxyParamCaption}\item[{const struct tm \texorpdfstring{$\ast$}{*}}]{run}{, }\item[{int}]{offset}{\mbox{[}\+NUM\+\_\+\+FILES\mbox{]}, }\item[{char}]{keys}{\mbox{[}\+NUM\+\_\+\+FILES\mbox{]}\mbox{[}\+MAX\+\_\+\+URL\mbox{]}}\end{DoxyParamCaption})}

\Hypertarget{fetcher_8h_a54b4f6e42a7092e6568561f848b0d28c}\index{fetcher.h@{fetcher.h}!multi\_perform@{multi\_perform}}
\index{multi\_perform@{multi\_perform}!fetcher.h@{fetcher.h}}
\doxysubsubsection{\texorpdfstring{multi\_perform()}{multi\_perform()}}
{\footnotesize\ttfamily \label{fetcher_8h_a54b4f6e42a7092e6568561f848b0d28c} 
void multi\+\_\+perform (\begin{DoxyParamCaption}\item[{CURLM \texorpdfstring{$\ast$}{*}}]{multi}{}\end{DoxyParamCaption})}

\Hypertarget{fetcher_8h_a370c187a72a3eb6b1f72d772bd0de4a6}\index{fetcher.h@{fetcher.h}!run\_already\_downloaded@{run\_already\_downloaded}}
\index{run\_already\_downloaded@{run\_already\_downloaded}!fetcher.h@{fetcher.h}}
\doxysubsubsection{\texorpdfstring{run\_already\_downloaded()}{run\_already\_downloaded()}}
{\footnotesize\ttfamily \label{fetcher_8h_a370c187a72a3eb6b1f72d772bd0de4a6} 
bool run\+\_\+already\+\_\+downloaded (\begin{DoxyParamCaption}\item[{struct tm \texorpdfstring{$\ast$}{*}}]{run\+\_\+tm}{}\end{DoxyParamCaption})}

\Hypertarget{fetcher_8h_a2412f6b208a4be3383b4955699e31682}\index{fetcher.h@{fetcher.h}!set\_master@{set\_master}}
\index{set\_master@{set\_master}!fetcher.h@{fetcher.h}}
\doxysubsubsection{\texorpdfstring{set\_master()}{set\_master()}}
{\footnotesize\ttfamily \label{fetcher_8h_a2412f6b208a4be3383b4955699e31682} 
void set\+\_\+master (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



\doxysubsection{Variable Documentation}
\Hypertarget{fetcher_8h_a2e0775733c760761edc48cc736ee03df}\index{fetcher.h@{fetcher.h}!master@{master}}
\index{master@{master}!fetcher.h@{fetcher.h}}
\doxysubsubsection{\texorpdfstring{master}{master}}
{\footnotesize\ttfamily \label{fetcher_8h_a2e0775733c760761edc48cc736ee03df} 
CURL\texorpdfstring{$\ast$}{*} master\hspace{0.3cm}{\ttfamily [extern]}}

