\doxysection{fetcher.\+h}
\hypertarget{fetcher_8h_source}{}\label{fetcher_8h_source}\index{ingestor/fetcher.h@{ingestor/fetcher.h}}
\mbox{\hyperlink{fetcher_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <curl/curl.h>}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <curl/easy.h>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <curl/multi.h>}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <curl/system.h>}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <math.h>}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <stdbool.h>}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ <stddef.h>}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ <stdio.h>}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <stdlib.h>}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ <string.h>}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ <sys/stat.h>}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ <time.h>}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ <unistd.h>}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{constants_8h}{constants.h}}"{}}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{keyword}{extern}\ CURL\ *\mbox{\hyperlink{fetcher_8c_a2e0775733c760761edc48cc736ee03df}{master}};}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{fetcher_8h_aef334801630cffa4f694259497e10bc3}{find\_latest\_run}}(\textcolor{keyword}{struct}\ tm\ *out);}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{fetcher_8h_a18aaef93079280c57cf858832184b302}{generate\_keys}}(\textcolor{keyword}{const}\ \textcolor{keyword}{struct}\ tm\ *run,\ \textcolor{keywordtype}{int}\ offset[\mbox{\hyperlink{constants_8h_a7e72e0268904c2467ce256cc0f78925c}{NUM\_FILES}}],}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ keys[\mbox{\hyperlink{constants_8h_a7e72e0268904c2467ce256cc0f78925c}{NUM\_FILES}}][\mbox{\hyperlink{constants_8h_afcbf7727d6416354930cd43f1c1e480c}{MAX\_URL}}]);}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{fetcher_8h_a2b84ffc848eb76be4341aa18b699e059}{fetch\_current\_conditions}}(\textcolor{keywordtype}{double}\ lat,\ \textcolor{keywordtype}{double}\ lon,\ \textcolor{keywordtype}{char}\ *out\_path,}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ out\_path\_size);}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{fetcher_8h_a97e9cf50b9689b134898578c3cffb406}{download\_parallel}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ keys[\mbox{\hyperlink{constants_8h_a7e72e0268904c2467ce256cc0f78925c}{NUM\_FILES}}][\mbox{\hyperlink{constants_8h_afcbf7727d6416354930cd43f1c1e480c}{MAX\_URL}}]);}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{fetcher_8h_a54b4f6e42a7092e6568561f848b0d28c}{multi\_perform}}(CURLM\ *multi);}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{fetcher_8h_a7c77e2145eeb16934502df9b045a0e41}{check\_response}}(CURL\ *handle,\ \textcolor{keywordtype}{char}\ outpath[\mbox{\hyperlink{constants_8h_afcbf7727d6416354930cd43f1c1e480c}{MAX\_URL}}],\ FILE\ *file);}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\mbox{\hyperlink{fetcher_8h_a4cac288e7acfe1728d2fcfeb4a16dbb6}{construct\_file\_name}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *key,\ \textcolor{keywordtype}{char}\ \mbox{\hyperlink{structurl}{url}}[\mbox{\hyperlink{constants_8h_afcbf7727d6416354930cd43f1c1e480c}{MAX\_URL}}],}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ outpath[\mbox{\hyperlink{constants_8h_afcbf7727d6416354930cd43f1c1e480c}{MAX\_URL}}]);}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \textcolor{keywordtype}{void}\ *\mbox{\hyperlink{fetcher_8h_a18bb0829e0e1490bce60cd20fb77d87f}{check\_time}}(FILE\ **file,\ \textcolor{keywordtype}{char}\ outpath[\mbox{\hyperlink{constants_8h_afcbf7727d6416354930cd43f1c1e480c}{MAX\_URL}}]);}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{fetcher_8h_a370c187a72a3eb6b1f72d772bd0de4a6}{run\_already\_downloaded}}(\textcolor{keyword}{struct}\ tm\ *run\_tm);}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{fetcher_8h_a2412f6b208a4be3383b4955699e31682}{set\_master}}();}

\end{DoxyCode}
